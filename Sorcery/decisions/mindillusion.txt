targetted_decisions = {
	1mind_illusion_decision = {
			
		ai_target_filter   = all
		filter = all
		from_potential = {
			is_playable = yes
			ai = no
			check_variable = { which = "magic_power" value = 1 }		
			NOT = {	OR= { trait = incapable has_character_flag = sorcery}}
			OR = {trait = Sorcery trait = Mentalist}
		}
	
		potential = {
		OR = {
			NOT = { character = FROM  } 
			NOT = { has_character_modifier = magic_shield }
		}
		}
		allow = { 
					OR = { 
						ROOT = { at_location = FROM } 			
						FROM = { has_character_flag = Magic_Divining }						
					}
		NOT = { character = FROM  }		
		}
		
		effect = {	
			save_event_target_as = mindillusiontarget			
			FROM = {

				any_opinion_modifier_target = {
					limit = {
						reverse_has_opinion_modifier = {
							who = PREV
							modifier = mindmanip
						}
					}
					save_event_target_as = mindtarget
					reverse_remove_opinion = {
						who = PREV
						modifier = mindmanip
					}
				}
				clr_character_flag = Magic_Divining
				character_event = {id = mindillusionspell.1 }	
						set_character_flag = sorcery
				hidden_tooltip = { character_event = { id = cooldown.1 days = 90 } }

	
		}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
		}
	}	
	}